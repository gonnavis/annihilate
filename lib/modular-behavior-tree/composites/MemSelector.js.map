{"version":3,"sources":["../../src/composites/MemSelector.js"],"names":["FAILURE","Composite","MemSelector","constructor","children","_openNodeIndex","run","blackboard","tick","i","length","status","_execute","RUNNING","module","exports"],"mappings":"AAAA,SAASA,OAAT,QAAwB,cAAxB;AACA,OAAOC,SAAP,MAAsB,mBAAtB;;AAEA,MAAMC,WAAN,SAA0BD,SAA1B,CAAoC;;AAEhCE,gBAAY,EAACC,WAAW,EAAZ,KAAkB,EAA9B,EAAkC;AAC9B,cAAM;AACFA;AADE,SAAN;AAGA,aAAKC,cAAL,GAAsB,IAAtB;AACH;;AAED,UAAMC,GAAN,CAAUC,UAAV,EAAsBC,IAAtB,EAA4B;;AAExB,aAAK,IAAIC,IAAE,CAAX,EAAcA,IAAE,KAAKL,QAAL,CAAcM,MAA9B,EAAsCD,GAAtC,EAA2C;AACvC,gBAAG,CAAC,KAAKJ,cAAN,IAAyB,KAAKA,cAAL,IAAuB,KAAKA,cAAL,KAAwBI,CAA3E,EAAgF;AAC5E,oBAAIE,SAAS,MAAM,KAAKP,QAAL,CAAcK,CAAd,EAAiBG,QAAjB,CAA0BL,UAA1B,EAAsCC,IAAtC,CAAnB;AACA,qBAAKH,cAAL,GAAuBM,WAAWE,OAAZ,GAAuBJ,CAAvB,GAA2B,IAAjD;AACA,oBAAIE,WAAWX,OAAf,EAAwB,OAAOW,MAAP;AAC3B;AACJ;;AAED,eAAOX,OAAP;AAEH;;AArB+B;;AAyBpCc,OAAOC,OAAP,GAAiBb,WAAjB","file":"MemSelector.js","sourcesContent":["import { FAILURE } from '../constants'\nimport Composite from '../core/Composite'\n\nclass MemSelector extends Composite {\n\n    constructor({children = []} = {}) {\n        super({\n            children\n        })\n        this._openNodeIndex = null\n    }\n\n    async run(blackboard, tick) {\n\n        for (let i=0; i<this.children.length; i++) {\n            if(!this._openNodeIndex || (this._openNodeIndex && this._openNodeIndex === i) ) {\n                let status = await this.children[i]._execute(blackboard, tick);\n                this._openNodeIndex = (status === RUNNING) ? i : null\n                if (status !== FAILURE) return status;\n            }\n        }\n\n        return FAILURE;\n        \n    } \n\n}\n\nmodule.exports = MemSelector"]}