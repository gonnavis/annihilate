{"version":3,"sources":["../../src/decorators/MaxTime.js"],"names":["SUCCESS","FAILURE","RUNNING","Decorator","MaxTime","constructor","properties","ms","child","start","blackboard","tick","startTime","Date","now","run","Error","status","_execute","module","exports"],"mappings":"AAAA,SAASA,OAAT,EAAkBC,OAAlB,EAA2BC,OAA3B,QAA0C,cAA1C;AACA,OAAOC,SAAP,MAAsB,mBAAtB;;AAEA,MAAMC,OAAN,SAAsBD,SAAtB,CAAgC;;AAE5BE,gBAAY,EAACC,aAAa,EAAEC,IAAI,CAAN,EAAd,EAAyBC,QAAQ,IAAjC,KAAyC,EAArD,EAAyD;AACrD,cAAM;AACFA,iBADE;AAEFF;AAFE,SAAN;AAIH;;AAEDG,UAAMC,UAAN,EAAkBC,IAAlB,EAAwB;AACpB,aAAKC,SAAL,GAAiBC,KAAKC,GAAL,EAAjB;AACH;;AAED,UAAMC,GAAN,CAAUL,UAAV,EAAsBC,IAAtB,EAA4B;;AAExB,YAAI,CAAC,KAAKH,KAAV,EAAiB,MAAM,IAAIQ,KAAJ,CAAU,8BAAV,CAAN;;AAEjB,YAAIC,SAAS,MAAM,KAAKT,KAAL,CAAWU,QAAX,CAAoBR,UAApB,EAAgCC,IAAhC,CAAnB;;AAEA,YAAKE,KAAKC,GAAL,KAAW,KAAKF,SAAjB,GAA8B,KAAKN,UAAL,CAAgBC,EAAlD,EAAuD;AACnD,mBAAON,OAAP;AACH;;AAED,eAAOgB,MAAP;AAEH;;AAzB2B;;AA6BhCE,OAAOC,OAAP,GAAiBhB,OAAjB","file":"MaxTime.js","sourcesContent":["import { SUCCESS, FAILURE, RUNNING } from '../constants'\nimport Decorator from '../core/Decorator'\n\nclass MaxTime extends Decorator {\n\n    constructor({properties = { ms: 0 }, child = null} = {}) {\n        super({\n            child,\n            properties\n        })\n    }\n\n    start(blackboard, tick) {\n        this.startTime = Date.now()\n    }\n\n    async run(blackboard, tick) {\n\n        if (!this.child) throw new Error(\"No child defined for MaxTime\")\n\n        let status = await this.child._execute(blackboard, tick)\n\n        if( (Date.now()-this.startTime) > this.properties.ms ) {\n            return FAILURE\n        }\n\n        return status\n\n    } \n\n}\n\nmodule.exports = MaxTime"]}